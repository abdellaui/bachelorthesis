% !TEX root = ../my_thesis.tex

\section{Diskussion}
\label{sec:kapitel_5}
In dem vorliegenden Kapitel wird zuerst die Methodik der Arbeit diskutiert. Anschließend werden die Ergebnisse zusammengefasst interpretiert und mit den Ergebnissen der Literatur verglichen. %Abschließend wird Empfehlungen für weiterführende Forschungen gegeben. 

%und im Ausblick zu weiterführenden Forschungen Empfehlungen gegeben.

\subsection{Diskussion der Methodik}
\label{subsec:disc_methode}

In der vorliegenden Arbeit wurden die realen Evaluationsdaten mit einer konstruierten Hardware erhoben (s. Abb \ref{fig:t265_d435}). Dieser versprach,bei Bestkonditionen die Pose mit einer Abweichung (Drift) von weniger als 1\% zu berechnen. Die Bestkonditionen für die Hardware konnte nicht hergestellt werden, sodass die Posen einen Drift bis zu 5\% aufzeigten (vgl. Abb. \ref{fig:trajectories}). Dennoch konnte eine Korrespondenz der berechneten Posen mit den Posen der Simulationen hergestellt werden. Allerdings ist durch den Drift ein negativer Einfluss auf die Akkuratesse der mit den synthetischen Daten trainierten und mit den realen Daten evaluierten KNNs denkbar.

%In der Zukunft sollten die Konditionen der Hardware bei Datenerhebung mit der Hardware besser berücksichtigt werden. Die Hardware berechnet die Pose über IMU-gestütztes vSLAM-Algorithmus. Angesichts des vSLAM-Algorithmus kann durch ein \textit{Loop-Closure} der Drift klein gehalten werden. Ebenso kann dem Drift durch das langsame Fortbewegung der Hardware entgegengewirkt werden, da somit für die Bestimmung der Pose mehr Zeit sowie visueller Input gegeben ist. 

Zudem ist in dieser Arbeit die Akkuratesse eines KNNs durch den stochastischen Gradientenabstiegsverfahren \textit{AdaGrad} bei der Minimierung des \textit{Losses} im Trainingsprozess vom Zufall abhängig. Die durch den Zufall bedingte bestmögliche Akkuratesse zu finden, würde aus Zeitgründen den Rahmen dieser Bachelorarbeit sprengen. Angesichts der begrenzten Zeit wurde der Trainingsprozess pro Datensatztyp 5-mal wiederholt und die bessere Akkuratesse behalten. Daher könnten bei weiteren Trainingsprozessen bessere Ergebnisse aufkommen.

Weiterhin wurden die Hyperparameter aus \citet{acharyaBIMPoseNetIndoorCamera2019} übernommen bzw. gleichermaßen bestimmt oder im selben Verhältnis zum Datensatz gewählt. Demnach könnten die Hyperparameter auf die Datensätze von \citet{acharyaBIMPoseNetIndoorCamera2019} optimiert sein oder besser zusammenpassen als auf die hier erhobenen Datensätze. Aufgrund der zeitlichen Begrenzung konnten die Hyperparameter auf die hier erhobenen Datensätze nicht optimiert werden. Deshalb könnten durch eine andere Belegung der Hyperparameter bessere Ergebnisse erzielt werden.

\subsection{Diskussion der Ergebnisse}


In der vorliegenden Bachelorarbeit konnte gezeigt werden, dass der Ansatz von \citet{acharyaBIMPoseNetIndoorCamera2019} ohne eine Optimierung der Hyperparameter eine durchschnittliche Akkuratesse von 10.95$m$ in der Position und 49.69° in der Orientierung bei der Evaluation mit den Gradientenbildern der realen Daten erreichte. Ferner sollte die durch das Trainieren und Evaluieren mit den realen Daten resultierende durchschnittliche Akkuratesse von 1.17$m$, 7.34° als Referenzwert dienen. Die Evaluationen mit den synthetischen Gradientenbildern konnten zeigen, dass eine durchschnittliche Akkuratesse von 1.19$m$, 8.35° auf den zuvor mit synthetischen Daten trainierten Netzwerken erzielt werden konnte. Allerdings wurde ein Lokalisierungsverfahren in der Realität gestrebt. Dieser ist in den betroffenen Gebäuden mit einer durchschnittlichen Positionsakkuratesse von ca. 11$m$ nicht denkbar. 

% Perceptual aliasing & treppen
Innerhalb von Gebäuden kommt es häufiger vor, dass unterschiedliche Stellen eines Innenraumes ähnliche Merkmale besitzen und somit schwer voneinander differenzierbar. Dieses Problem ist in der Literatur auch als \textit{perceptual-aliasing} bekannt und stellt eine der größten Herausforderungen von Lokalisierungsverfahren dar \cite{lowryVisualPlaceRecognition2016}. In dieser Arbeit wurde diese Herausforderung durch das Anstreben einer domänenübergreifenden Abstraktion bzw. das Erlenen von den Wiedererkennungsmerkmale der realen Daten aus den simulierten Daten zusätzlich verstärkt. Dies war in den Ergebnissen deutlich sichtbar. Während die durchschnittliche Positionsakkuratesse bei den Evaluationen mit den Daten der gleichen Domäne ca. 1$m$ ergab, betrug diese bei den domänenübergreifenden Evaluationen ca. 11$m$.

Die realen Evaluationsdaten auf den \textit{HS-stairs-down} und \textit{HS-stairs-up} Strecken wurden grundsätzlich zwischen der oberen und unteren Treppenlauf lokalisiert. Eine Generalisierungsfähigkeit der KNNs zwischen Oben und Unten war nicht erkennbar (s. Abb. \ref{subfig:hs_up_fig3}, \ref{subfig:hs_down_fig3}). Vielmehr konnte eine zufällige Zuordnung der KNNs interpretiert werden. Dies könnte aufgrund von wiederholenden Strukturen einer Treppe auf \textit{perceptual-aliasing} zurückgeführt werden und würde die abwechselnde Fehlerrate auf den Evaluationsdaten der Treppenläufe erklären. Außerdem zeigten die Ergebnisse der Strecken \textit{IC-loop} und \textit{HS-gamma} eine Verteilung der realen Evaluationsdaten auf eine ca. 5m breiten und ca. 20m bis 30m langen Teilzone (s. Abb. \ref{subfig:ic_fig2}, \ref{subfig:hs_gamma_fig2}). Zusätzlich wurde die Orientierung der realen Evaluationsdaten als die Richtung der von der Anzahl her überwiegenden Trainingsdaten bestimmt.


Die Ergebnisse von \textit{IC-loop} und \textit{HS-gamma} zeigten Parallelen zu den Ergebnissen von \citet{acharyaBIMPoseNetIndoorCamera2019} bzgl. der mit den Lokalisierungsergebnissen enthaltenden Gebäudearealen und 
der überwiegend in eine Richtung bestimmte Orientierung.
% Eventualitäten
Das Lokalisieren aller realen \textit{IC-loop} Evaluationsdaten auf einem begrenzten Gebäudeareal könnte auf \textit{perceptual-aliasing} zurückgeführt werden, da sich die Innenräume der vertikal sowie horizontal verlaufenden Strecken optisch stark ähnelten. Im Gegensatz dazu waren in \textit{HS-gamma} die Innenräume der vertikal und entlang der Schlaufe verlaufenden Strecken von den horizontalen Strecken optisch differenzierbar. Dennoch wurden in \textit{HS-gamma} ebenfalls die realen Evaluationsdaten überwiegend auf einem Bereich der linken horizontalen Strecke lokalisiert. Obwohl einige Evaluationsdaten nahe der Schlaufe lokalisiert werden konnten, wurde dennoch die Orientierung als die Richtung der horizontalen Strecken bestimmt (s. Abb. \ref{subfig:hs_gamma_fig2}, \ref{subfig:hs_gamma_fig4}). Hierbei lassen sich diese Ergebnisse nicht mit dem \textit{perceptual-aliasing} erklären.

\citet{acharyaBIMPoseNetIndoorCamera2019} stellten überraschend fest, dass die Akkuratesse mit einem zunehmenden \textit{Level of Detail} (LOD) der Gebäudesimulation (\textit{Trainingsdaten}) bei der Evaluation mit den Gradientenbildern der realen Daten abnahm. Zeitgleich hatten dieselben Autoren ein hohes LOD für eine bessere Akkuratesse empfohlen \cite{acharyaBIMPoseNetIndoorCamera2019}. Angesichts dieser Feststellung könnte das hohe LOD der HS-Gebäudesimulation die unzureichende Generalisierungsfähigkeit des KNNs auf den HS-Datensätzen möglicherweise erklären. Allerdings zeigte die Evaluation der \textit{HS-gamma} Strecke falsche Ergebnisse weit über eine vorstellbare Wirkung des LODs. Ebenso sollte nicht außer Acht gelassen werden, dass die Ergebnisse von \textit{HS-gamma} Gemeinsamkeiten zu den Ergebnissen von \textit{IC-loop} und der von \citet{acharyaBIMPoseNetIndoorCamera2019} nachweisen.

% PoseNet kann das
Die Gemeinsamkeiten der Ergebnisse wirkten jedoch fraglich, da PoseNet grundsätzlich weder auf einen ca. 5$m$ breiten und ca. 20$m$ bis 30$m$ langen Gebäudeareal noch für eine einzige Orientierung begrenzt war. Zudem konnte in dieser Bachelorarbeit gezeigt werden, dass durch das Trainieren und Evaluieren mit den hier erhobenen realen Datensätzen eine durchschnittliche Akkuratesse von 1.17$m$, 7.34° und mit den synthetischen Datensätzen eine durchschnittliche Akkuratesse von 1.19$m$, 8.35° erzielt werden konnte. Ferner konnten \citet{walchImageBasedLocalizationUsing2017} mit PoseNet durch das Trainieren und Evaluieren mit realen Daten in einem größeren Gebäudeareal als das von den \textit{IC-loop} oder \textit{HS-gamma} Datensätzen die Pose mit einer Akkuratesse von 1.87$m$, 6.14° bestimmen. Daher liegt angesichts der oben genannten Parallelen die Schlussfolgerung nahe, dass durch das Trainieren mit den Gradientenbildern der simulierten Daten von PoseNet die Gradientenbilder der realen Evaluationsdaten auf einem begrenzten Gebäudeareal nur in eine Richtung bestimmt werden können.

