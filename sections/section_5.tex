% !TEX root = ../my_thesis.tex

\section{Diskussion}
\label{sec:kapitel_5}
In dem vorliegenden Kapitel wird zuerst die Methodik der Arbeit diskutiert. Anschließend werden die Ergebnisse zusammengefasst interpretiert und mit den Ergebnissen der Literatur verglichen. Abschließend wird Empfehlungen für weiterführende Forschungen gegeben. 

%und im Ausblick zu weiterführenden Forschungen Empfehlungen gegeben.

\subsection{Diskussion der Methodik}
\label{subsec:disc_methode}

In der vorliegenden Arbeit wurden die realen Evaluationsdaten mit einer konstruierten Hardware erhoben (s. Abb \ref{fig:t265_d435}). Dieser versprach, die Pose bei Bestkonditionen mit eine Abweichung (\textit{Drift}) von weniger als 1\% die Pose zu berechnen. Die Bestkonditionen für die Hardware konnte nicht hergestellt werden, sodass die Posen einen Drift bis zu 5\% aufzeigten (vgl. Abb. \ref{fig:trajectories}). Dennoch konnte eine Korrespondenz der berechneten Posen mit den Posen der Simulationen hergestellt werden. Allerdings ist durch den Drift ein negativer Einfluss auf die Akkuratesse der KNNs denkbar.

%In der Zukunft sollten die Konditionen der Hardware bei Datenerhebung mit der Hardware besser berücksichtigt werden. Die Hardware berechnet die Pose über IMU-gestütztes vSLAM-Algorithmus. Angesichts des vSLAM-Algorithmus kann durch ein \textit{Loop-Closure} der Drift klein gehalten werden. Ebenso kann dem Drift durch das langsame Fortbewegung der Hardware entgegengewirkt werden, da somit für die Bestimmung der Pose mehr Zeit sowie visueller Input gegeben ist. 

Zudem ist in dieser Arbeit die Akkuratesse eines KNNs durch den stochastischen Gradientenabstiegsverfahren \textit{AdaGrad} bei der Minimierung des \textit{Losses} im Trainingsprozess vom Zufall abhängig. Die durch den Zufall bedingte bestmögliche Akkuratesse zu finden, würde aus Zeitgründen den Rahmen dieser Bachelorarbeit sprengen. Angesichts der begrenzten Zeit wurde der Trainingsprozess pro Datensatztyp 5-mal wiederholt und die bessere Akkuratesse behalten. Daher könnten bei weiteren Trainingsprozessen bessere Ergebnisse aufkommen.

Weiterhin wurden die Hyperparameter aus \citet{acharyaBIMPoseNetIndoorCamera2019} übernommen bzw. gleichermaßen bestimmt oder im selben Verhältnis zum Datensatz gewählt. Demnach könnten die Hyperparameter auf die Datensätze von \citet{acharyaBIMPoseNetIndoorCamera2019} optimiert sein oder besser zusammenpassen als auf die hier erhobenen Datensätze. Aufgrund der begrenzten Zeit konnten die Hyperparameter auf die hier erhobenen Datensätze nicht optimiert werden. Deshalb könnten durch eine andere Belegung der Hyperparameter bessere Ergebnisse erzielt werden.

\subsection{Diskussion der Ergebnisse}

%Es ist nicht das Ziel dieser Arbeit den visuellen Lokalisierungsansatz von \citet{acharyaBIMPoseNetIndoorCamera2019} auf den erhobenen Datensätzen zu untersuchen. Dabei wird eine Lokalisierungsgenauigkeit im Meterbereich angestrebt, da PLACEHOLDER . Daher ist die Abweichung (\textit{Drift}) bis zu 5\% der realen Evaluationsdaten von den synthetischen Trainingsdaten unproblematisch. In Anbetracht der Ergebnisse ist eine Lokalisierungsverfahren ohne weitere Maßnahmen des Ansatzes von \citet{acharyaBIMPoseNetIndoorCamera2019} auf den in dieser Arbeit erhobenen Datensätzen auszuschließen.


In der vorliegenden Bachelorarbeit konnte gezeigt werden, dass der Ansatz von \citet{acharyaBIMPoseNetIndoorCamera2019} ohne eine Optimierung der Hyperparameter eine durchschnittliche Akkuratesse von 10.95$m$ in der Position und 49.69° in der Orientierung bei der Evaluation mit den Gradientenbildern der realen Daten erreichte. Ferner sollten die durch das Trainieren und Evaluieren mit den realen Daten resultierende durchschnittliche Akkuratesse von 1.17$m$, 7.34° als Referenzwert dienen. Die Evaluationen mit den synthetischen Gradientenbildern konnten zeigen, dass eine durchschnittliche Akkuratesse von 1.19$m$, 8.35° auf den mit synthetischen Daten trainierten Netzwerken erzielt werden konnte. Allerdings wurde ein Lokalisierungsverfahren in der Realität gestrebt. Dieser ist in den betroffenen Gebäuden mit einem durchschnittlichen Positionsakkuratesse von ca. 11$m$ nicht denkbar. 

%übereinstimmend mit den Referenzwerten von 1.17$m$, 7.34° erziel
% TODO: REFERENZWERT und schlussfolgern%
% würde reichen für

% Perceptual aliasing & treppen
In Gebäuden kommt es häufiger vor, dass unterschiedliche Stellen eines Innenraumes ähnliche Merkmale besitzen und somit schwer voneinander zu unterscheiden sind. Dieses Problem ist in der Literatur auch als \textit{perceptual-aliasing} bekannt und stellt eine der größten Herausforderungen von Lokalisierungsverfahren dar \cite{lowryVisualPlaceRecognition2016}. In dieser Arbeit wurde diese Herausforderung durch das Anstreben einer domänenübergreifenden Abstraktion bzw. das Erlenen von den Merkmalen der realen Daten aus den simulierten Daten zusätzlich verstärkt. Angesichts der Übereinstimmung der Akkuratessen der Evaluationen kann die Diskrepanz der Akkuratesse der domänenübergreifende Evaluationen auf die Informationsverlust der Abstraktionen zurückgeführt werden.


Die realen Evaluationsdaten auf den \textit{HS-stairs-down} und \textit{HS-stairs-up} Strecken wurden grundsätzlich zwischen der oberen und unteren Treppenlauf lokalisiert. Eine Generalisierungsfähigkeit der KNNs zwischen Oben und Unten war nicht erkennbar (s. Abb. \ref{subfig:hs_up_fig3}, \ref{subfig:hs_down_fig3}). Vielmehr konnte eine \textit{zufällige} Zuordnung der KNNs interpretiert werden. Dies könnte aufgrund von wiederholenden Strukturen einer Treppe auf \textit{perceptual-aliasing} zurückgeführt werden und würde die abwechselnde Fehlerrate auf den Evaluationsdaten der Treppenläufe erklären. Außerdem zeigten die Ergebnisse der Strecken \textit{IC-loop} und \textit{HS-gamma} eine Verteilung der realen Evaluationsdaten auf eine ca. 5m breiten und ca. 20m bis 30m langen Teilzone (s. Abb. \ref{subfig:ic_fig2}, \ref{subfig:hs_gamma_fig2}). Zusätzlich wurde die Orientierung der realen Evaluationsdaten als die Richtung der von der Anzahl her überwiegenden Trainingsdaten bestimmt.


Die Ergebnisse von \textit{IC-loop} und \textit{HS-gamma} zeigten Parallelen zu den Ergebnissen von \citet{acharyaBIMPoseNetIndoorCamera2019} bzgl. der mit den Lokalisierungsergebnissen enthaltenden Gebäudearealen und 
der überwiegend in eine Richtung bestimmte Orientierung.
% Eventualitäten
Das Lokalisieren aller realen \textit{IC-loop} Evaluationsdaten auf einem begrenzten Gebäudeareal könnte auf \textit{perceptual-aliasing} zurückgeführt werden, da sich die Innenräume der vertikal sowie horizontal verlaufenden Strecken optisch stark ähnelten. Im Gegensatz dazu waren in \textit{HS-gamma} die Innenräume der vertikal und entlang der Schlaufe verlaufenden Strecken von den horizontalen Strecken optisch differenzierbar. Dennoch wurden in \textit{HS-gamma} ebenfalls die realen Evaluationsdaten überwiegend auf einem Bereich der linken horizontalen Strecke lokalisiert. Obwohl einige Evaluationsdaten nahe der Schlaufe lokalisiert werden konnten, wurde dennoch die Orientierung als die Richtung der horizontalen Strecken bestimmt (s. Abb. \ref{subfig:hs_gamma_fig2}, \ref{subfig:hs_gamma_fig4}). Hierbei ist über \textit{perceptual-aliasing} eine Erklärung der Ergebnisse nicht möglich.

\citet{acharyaBIMPoseNetIndoorCamera2019} stellten überraschend fest, dass die Akkuratesse mit einem zunehmendem \textit{Level of Detail} (LOD) der Gebäudesimulation (\textit{Trainingsdaten}) bei der Evaluation mit den Gradientenbildern der realen Daten abnahm. Zeitgleich hatten dieselben Autoren ein hohes LOD für eine bessere Akkuratesse empfohlen \cite{acharyaBIMPoseNetIndoorCamera2019}. Angesichts dieser Feststellung könnte das hohe LOD der HS-Gebäudesimulation für die unzureichende Generalisierungsfähigkeit des KNNs auf den HS-Datensätzen möglicherweise erklären. Allerdings zeigte die Evaluation der \textit{HS-gamma} Strecke falsche Ergebnisse weit über eine vorstellbare Wirkung des LODs. Ebenso sollte nicht außer Acht gelassen werden, dass die Ergebnisse von \textit{HS-gamma} Gemeinsamkeiten zu den Ergebnissen von \textit{IC-loop} und der von \citet{acharyaBIMPoseNetIndoorCamera2019} nachweisen.

% PoseNet kann das
Die Gemeinsamkeiten der Ergebnisse wirkten jedoch fraglich, da PoseNet grundsätzlich weder auf einen ca. 5$m$ breiten und ca. 20$m$ bis 30$m$ langen Gebäudeareal noch für eine einzige Orientierung begrenzt war. Zudem konnte in dieser Bachelorarbeit gezeigt werden, dass durch das Trainieren und Evaluieren mit den hier erhobenen realen Datensätzen eine durchschnittliche Akkuratesse von 1.17$m$, 7.34° und mit den synthetischen Datensätzen eine durchschnittliche Akkuratesse 1.19$m$, 8.35° erzielt werden konnte. Ferner konnten \citet{walchImageBasedLocalizationUsing2017} mit PoseNet durch das Trainieren und Evaluieren mit realen Daten in einem größeren Gebäudeareal als von den \textit{IC-loop} oder \textit{HS-gamma} Datensätzen mit einer Akkuratesse von 1.87$m$, 6.14° die Pose bestimmen. Daher liegt angesichts der oben genannten Parallelen der Ergebnisse die Schlussfolgerung nahe, dass durch das Trainieren mit den Gradientenbildern der simulierten Daten von PoseNet die Gradientenbildern der realen Evaluationsdaten auf einem begrenzten Gebäudeareal nur in eine Richtung bestimmt werden können.


\subsection{Empfehlungen für weiterführende Forschungen}

%datentypen
\citet{acharyaBIMPoseNetIndoorCamera2019} erzielten ihre besten Ergebnisse durch das Trainieren mit den Gradientenbilder der synthetischen Kantenbilder (\textit{grad-edge}). In dieser Arbeit konnte eine bessere Akkuratesse mit den \textit{grad-cartoon} Datensätzen häufiger erzielt werden (s. Tab. \ref{tab:results_ic}- \ref{tab:results_hs_stairs_down}). Dennoch kann auf dieser Tatsache kein synthetischer Datentyp als der Beste festgelegt werden, da hierzu die bestmögliche Akkuratesse von jedem Datentyp weder sichergestellt noch ausgeschlossen werden konnte. Das wird wie in \ref{subsec:disc_methode} erwähnt dadurch begründet, dass die Akkuratesse vom Zufall abhängig ist. Daher können weiterführende Forschungen bei gleichen Hyperparametern die Anzahl der Trainingsprozesse erhöhen, um bessere Ergebnisse zu erzielen oder auszuschließen. Infolgedessen könnte der Zusammenhang zwischen den Ergebnissen und der Datentypen untersucht werden. 

Außerdem wurde die Optimierung der Hyperparameter in dieser Arbeit nicht behandelt. Dies kann auf den jeweiligen Datensätzen zu besseren Ergebnissen führen und ist daher eine weitere Empfehlung zu weiterführenden Forschungen. Um das \textit{perceptual-aliasing} Problem zu behandeln, wurde in der Literatur raumzeitliche Informationen aus Bildsequenzen von aufeinanderfolgenden Frames berücksichtigt \cite{walchImageBasedLocalizationUsing2017, clarkVidLocDeepSpatioTemporal2017}. Des Weiteren wurde PoseNet an einem Bayessian Neural Network angepasst, um die Unsicherheit der Ergebnisse zu modellieren. Dadurch ist es in der Evaluationsphase möglich, den Ergebnisse zu vertrauen oder zu verwerfen \cite{kendallModellingUncertaintyDeep2016}. Angesichts dessen können weitere Forschungsprojekte die hier erhobenen Datensätze auf die Nachfolger von PoseNet \cite{kendallModellingUncertaintyDeep2016, walchImageBasedLocalizationUsing2017, clarkVidLocDeepSpatioTemporal2017} anwenden und die Fähigkeit zur Lokalisierung untersuchen.