% !TEX root = ../my_thesis.tex

\section{Diskussion}
\label{sec:kapitel_5}

\subsection{Diskussion der Ergebnisse}

%Angesichts dieser Ergebnisse liegt die Schlussfolgerung nahe, dass das Evaluieren mit den Gradientenbilder der realen Daten auf das mit synthetischen Daten trainierten PoseNet.
%Es ist nicht das Ziel dieser Arbeit den visuellen Lokalisierungsansatz von \citet{acharyaBIMPoseNetIndoorCamera2019} auf den erhobenen Datensätzen zu untersuchen. Dabei wird eine Lokalisierungsgenauigkeit im Meterbereich angestrebt, da PLACEHOLDER . Daher ist die Abweichung (\textit{Drift}) bis zu 5\% der realen Evaluationsdaten von den synthetischen Trainingsdaten unproblematisch. In Anbetracht der Ergebnisse ist eine Lokalisierungsverfahren ohne weitere Maßnahmen des Ansatzes von \citet{acharyaBIMPoseNetIndoorCamera2019} auf den in dieser Arbeit erhobenen Datensätzen auszuschließen.


% Zusammenfassung Ergebnisse
Die Ergebnisse der Untersuchungen haben gezeigt, dass der Ansatz von \citet{acharyaBIMPoseNetIndoorCamera2019}, worin das PoseNet mit den Gradietenbildern der synthetischen Daten trainiert und mit den Gradientenbildern der realen Daten evaluiert wird, ohne Optimierung der Hyperparameter auf die im Rahmen dieser Bachelorarbeit erhobenen Datensätze eine durchschnittliche Akkuratesse von 10.95$m$ in der Position und 49.69° in der Orientierung erreichte. Die Evaluationen mit den synthetischen Gradientenbildern haben gezeigt, dass eine durchschnittliche Akkuratesse von 1.19$m$, 8.35° mit synthetischen Daten übereinstimmend mit den Referenzwerten von 1.17$m$, 7.34° erzielt werden kann.
% TODO: REFERENZWERT%
% würde reichen für

% Perceptual aliasing & treppen
In Gebäuden kommt es häufiger vor, dass unterschiedliche Stellen eines Innenraumes ähnliche Merkmale besitzen und somit schwer voneinander zu unterscheiden sind. Dieses Problem ist in der Literatur auch als \textit{perceptual-aliasing} bekannt und stellt einen der größten Herausforderungen von Lokalisierungsverfahren dar \cite{lowryVisualPlaceRecognition2016}. In dieser Arbeit wird diese Herausforderung durch das Anstreben einer domänenübergreifenden Abstraktion bzw. das Erlenen von den Merkmalen der realen Daten aus den simulierten Daten zusätzlich verstärkt.


Die realen Evaluationsdaten auf den \textit{HS-stairs-down} und \textit{HS-stairs-up} Strecken wurden grundsätzlich zwischen der oberen und unteren Treppenlauf lokalisiert. Eine Generalisierungsfähigkeit zwischen Oben und Unten der KNNs ist nicht zu erkennen. Vielmehr ist eine \textit{zufällige} Zuordnung der KNNs festzuhalten. Dies könnte aufgrund von wiederholenden Strukturen einer Treppe auf \textit{perceptual-aliasing} zurückgeführt werden und würde die abwechselnde Fehlerrate auf den Evaluationsdaten der Treppenläufe erklären.
% loop und gamma auf muster aufmerksam machen  & STRECKE VON ACHARYA
Außerdem haben die Ergebnisse der Strecken \textit{IC-loop} und \textit{HS-gamma} gezeigt, dass die realen Evaluationsdaten auf eine ca. 5$m$ breiten und ca. 20$m$ bis 30$m$ langen Teilzone verteilt werden. Zusätzlich wurden die Orientierung der realen Evaluationsdaten als die Orientierung der von der Anzahl der Trainingsdaten überwiegenden Richtung bestimmt. 


Die Ergebnisse von \textit{IC-loop} und \textit{HS-gamma} zeigen Parallele zu den Ergebnissen von \citet{acharyaBIMPoseNetIndoorCamera2019}, indem die von der Lokalisierung betroffenen Gebäudearealen eine vergleichbare Größe haben und die zu bestimmende Orientierung nur eine Richtung ist bzw. bestimmt wird.
% Eventualitäten
Das Lokalisieren aller realen \textit{IC-loop} Evaluationsdaten auf einem begrenzten Gebäudeareal könnte auf \textit{perceptual-aliasing} zurückgeführt werden, da sich die Innenräume der vertikal sowie horizontal verlaufende Strecken optisch stark ähnelten. Im Gegensatz dazu waren in \textit{HS-gamma} die Innenräume der vertikal und entlang der Schlaufe verlaufenden Strecken von den horizontalen Strecken optisch differenzierbar. Dennoch wurden in \textit{HS-gamma} die realen Evaluationsdaten \textit{überwiegend} auf einem Bereich der linken horizontalen Strecke lokalisiert. Obwohl einige Evaluationsdaten nahe der Schlaufe lokalisiert werden konnten, wurde dennoch die Orientierung als die Richtung der horizontalen Strecken bestimmt. Hierbei ist über \textit{perceptual-aliasing} eine mögliche Erklärung der Ergebnisse nicht möglich.
% TODO: frage, why so bad

\citet{acharyaBIMPoseNetIndoorCamera2019} stellten überraschend fest, dass die Akkuratesse mit einem zunehmendem \textit{Level of Detail} (LOD) der Gebäudesimulation (\textit{Trainingsdaten}) bei der Evaluation mit den Gradientenbildern der realen Daten abnahm. Zeitgleich wird von denselben Autoren für eine bessere Akkuratesse ein hohes LOD empfohlen \cite{acharyaBIMPoseNetIndoorCamera2019}. Angesichts der Abnahme der Akkuratesse könnte das hohe LOD des HS-Gebäudesimulations für die unzureichende Akkuratesse bzw. Generalisierungsfähigkeit des KNNs auf den HS-Datensätzen eine mögliche Erklärung sein. Allerdings zeigte die Evaluation von der \textit{HS-gamma} Strecke falsche Ergebnisse weit über eine vorstellbare Wirkung des LODs vor. Ebenso sollte nicht außer Acht gelassen werden, dass die Ergebnisse von \textit{HS-gamma} Gemeinsamkeiten zu den Ergebnissen von \textit{IC-loop} und der von \citet{acharyaBIMPoseNetIndoorCamera2019} vorzeigen.
%TODO: frage, why got parrarels

%Angesichts dieser Parallelen und das Fehlen einer LOD Grenze
%Eine Grenze des LODs geht aus nicht hervor, 
% Dies erklärt jedoch nicht die Gemeinsamkeiten der ergebniise.

%Allerdings ist die schlechte Generalisierungsfähigkeit 


%Allerdings liegt angesichts der oben genannten Parallelen der Ergebnisse die Schlussfolgerung näher, dass über PoseNet bei gleichen Hyperparametern wie in \citet{acharyaBIMPoseNetIndoorCamera2019} begrenzt auf das Erlenen einer Richtung in einem kleinen Gebäudeareal ist.





% PoseNet kann das
Die Gemeinsamkeiten der Ergebnisse scheinen jedoch fraglich, denn grundsätzlich ist PoseNet weder auf einen ca. 5$m$ breiten und ca. 20$m$ bis 30$m$ langen Gebäudeareal noch für eine einzige Orientierung begrenzt. Zudem konnte in dieser Bachelorarbeit gezeigt werden, dass durch das Trainieren und Evaluieren mit den in dieser Arbeit erhobenen realen Datensätzen eine durchschnittliche Akkuratesse von 1.17$m$, 7.34° und mit den synthetischen Datensätzen eine durchschnittliche Akkuratesse 1.19$m$, 8.35° erzielt werden kann. Ferner konnten \citet{walchImageBasedLocalizationUsing2017} mit PoseNet durch das Trainieren und Evaluieren mit realen Daten in einem größeren Gebäudeareal als von den \textit{IC-loop} oder \textit{HS-gamma} Datensätzen mit einer Akkuratesse von 1.87$m$, 6.14° die Pose bestimmen. Daher liegt angesichts der oben genannten Parallelen der Ergebnisse vielmehr die Erklärung der \textit{HS-gamma} Ergebnisse bzw. die Schlussfolgerung nahe, dass PoseNet bei gleichen Hyperparametern wie in \cite{acharyaBIMPoseNetIndoorCamera2019} mit den Gradientenbildern der simulierte Daten für die Evaluation mit den Gradientenbildern der realen Daten auf einem begrenzten Gebäudeareal nur in einer Richtung trainiert werden kann.


% TODO: annahme machen




 






\subsection{Empfehlungen für weiterführende Forschung}

% Beschränken
Die Akkuratesse eines KNNs ist in dieser Arbeit durch den stochastischen Gradietenabstiegsverfahren \textit{AdaGrad} bei der Optimierung des \textit{Losses} im Trainingsprozess vom Zufall abhängig. Die durch den Zufall bedingten bestmöglichen Akkuratesse zu finden würde aus Zeitgründen den Rahmen dieser Bachelorarbeit sprengen. Weiterführende Forschungen können bei gleichen Hyperparametern die Anzahl der Trainingsprozesse erhöhen, um bessere Ergebnisse zu erzielen oder auszuschließen.

%datentypen
Weiterhin erzielten \citet{acharyaBIMPoseNetIndoorCamera2019} ihre besten Ergebnisse durch das Trainieren mit den Gradientenbilder der synthetischen Kantenbilder (\textit{grad-edge}). In dieser Arbeit konnte eine bessere Akkuratesse mit den \textit{grad-cartoon} Datensätzen häufiger erzielt werden. Dennoch kann auf dieser Tatsache kein Typ der synthetischen Daten als die Beste festgelegt werden, da zum nötigen Vergleich das Vorkommen der bestmöglichen Akkuratesse von jedem Datentyp weder sichergestellt noch ausgeschlossen werden kann. Weitere Forschungsprojekte können den Zusammenhang der Datentypen zu den Ergebnissen untersuchen.


Darüber hinaus behandelt diese Arbeit nicht die Optimierung der Hyperparameter. Die Hyperparameter wurden aus \citet{acharyaBIMPoseNetIndoorCamera2019} übernommen bzw. gleichermaßen bestimmt oder im selben Verhältnis zum Datensatz gewählt. Die Optimierung der Hyperparameter kann auf den jeweiligen Datensätzen zu besseren Ergebnissen führen und ist daher eine weitere Empfehlung für weiterführende Forschungen. 

Um das \textit{perceptual-aliasing} Problem zu behandeln, wurde in der Literatur raumzeitliche Informationen aus Bildsequenzen von aufeinanderfolgenden Frames berücksichtigt \cite{walchImageBasedLocalizationUsing2017, clarkVidLocDeepSpatioTemporal2017}. Des Weiteren wurde PoseNet an einem Bayessian Neural Network angepasst, um die Unsicherheit der Ergebnisse zu modellieren. Dadurch ist es in der Evaluationsphase möglich Ergebnisse zu vertrauen oder zu verwerfen \cite{kendallModellingUncertaintyDeep2016}. Angesichts dessen können weitere Forschungsprojekte die im Rahmen dieser Bachelorarbeit erhobenen Datensätze auf die Nachfolger von PoseNet \cite{kendallModellingUncertaintyDeep2016, walchImageBasedLocalizationUsing2017, clarkVidLocDeepSpatioTemporal2017} anwenden und die Fähigkeit zur Lokalisierung untersuchen.